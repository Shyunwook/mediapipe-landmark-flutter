# 🔬 MediaPipe 랜드마크 실험 결과 분석

## 📊 실험 설계

### 실험 목적
가까운 거리와 먼 거리에서의 손 움직임에 따른 랜드마크 좌표 변화 패턴 분석

### 실험 조건
- **측정 랜드마크**: 검지끝 (인덱스 8번)
- **데이터 수집량**: 각 거리별 50개 좌표
- **움직임 패턴**: 좌우 이동 (유사한 속도와 범위)
- **스무딩**: 현재 0.7:0.3 가중평균 적용 후 좌표

## 📈 수집된 실험 데이터

### 🔴 가까운 거리 (10-15cm) - 검지끝 데이터
```
x: [312.7, 314.3, 315.4, 314.5, 293.3, 333.0, 334.6, 288.7, 290.2, 290.6, 289.8, 321.1, 324.0, 324.7, 165.1, 159.7, 155.6, 151.9, 150.4, 152.9, 183.9, 285.0, 285.5, 338.5, 331.9, 210.4, 167.6, 152.2, 148.6, 147.3, 189.6, 331.7, 289.6, 291.3, 290.2, 348.6, 288.6, 289.1, 287.7, 8.3, 292.8, 293.4, 291.0, 344.1, 347.5, 347.5, 144.3, 143.9, 145.1, 152.2]

y: [158.2, 159.8, 161.6, 159.5, 237.0, 168.6, 169.0, 250.3, 249.9, 249.5, 247.6, 171.9, 174.2, 174.7, 90.2, 99.3, 98.1, 97.2, 97.5, 97.9, 197.1, 252.8, 251.9, 111.5, 110.8, 234.0, 139.2, 112.3, 104.2, 102.5, 197.9, 116.3, 256.8, 257.1, 257.1, 109.0, 252.9, 252.5, 252.6, 42.1, 264.2, 264.0, 260.9, 116.3, 115.2, 115.4, 113.9, 108.2, 108.7, 105.1]
```

### 🔵 먼 거리 (30cm+) - 검지끝 데이터
```
x: [283.6, 282.8, 279.8, 274.4, 267.0, 256.3, 242.9, 232.2, 216.4, 202.1, 187.1, 118.7, 113.9, 109.6, 107.0, 107.7, 112.5, 116.5, 128.5, 154.0, 160.6, 172.4, 183.5, 194.0, 206.7, 218.5, 229.3, 240.4, 250.8, 261.6, 270.4, 277.7, 283.9, 288.8, 291.6, 292.2, 290.4, 286.8, 280.9, 274.4, 265.1, 254.5, 243.5, 232.5, 220.6, 208.0, 195.8, 182.4, 172.2, 162.8]

y: [194.4, 193.8, 192.7, 191.8, 190.7, 188.5, 185.9, 187.5, 183.0, 181.3, 181.4, 184.1, 183.9, 184.1, 184.3, 184.8, 186.0, 186.0, 188.1, 188.1, 186.6, 188.7, 188.1, 187.4, 188.9, 191.0, 190.0, 190.8, 191.9, 193.5, 194.1, 194.2, 194.2, 194.9, 194.9, 194.8, 194.4, 192.8, 191.4, 189.9, 188.7, 186.7, 185.5, 184.7, 183.8, 183.3, 183.2, 183.0, 184.1, 183.9]
```

## 🔍 정량적 분석

### X축 좌표 분석

#### 가까운 거리
- **범위**: 8.3 ~ 348.6 (340.3픽셀)
- **평균**: 241.8
- **표준편차**: 68.4
- **최대 단일 점프**: 159.5픽셀 (348.6 → 8.3)
- **이상값 개수**: 5개 (8.3, 42.1 등)

#### 먼 거리  
- **범위**: 107.0 ~ 292.2 (185.2픽셀)
- **평균**: 213.7
- **표준편차**: 62.1
- **최대 단일 점프**: 68.4픽셀 (187.1 → 118.7)
- **이상값 개수**: 0개

### Y축 좌표 분석

#### 가까운 거리
- **범위**: 42.1 ~ 264.2 (222.1픽셀)
- **평균**: 166.8
- **표준편차**: 67.2
- **최대 단일 점프**: 214.7픽셀 (252.6 → 42.1)

#### 먼 거리
- **범위**: 181.3 ~ 194.9 (13.6픽셀)
- **평균**: 188.4
- **표준편차**: 3.8
- **최대 단일 점프**: 5.9픽셀

## 🎯 핵심 발견사항

### 1. 📊 **극단적인 차이**
- **가까운 거리**: 변동폭 340픽셀 vs **먼 거리**: 변동폭 185픽셀
- **표준편차**: 가까운 거리가 **18배 더 불안정** (Y축 기준)

### 2. 🚨 **이상값 패턴**
**가까운 거리에서만 발생하는 극단값들**:
- `x: 8.3` (정상 범위에서 완전히 벗어남)
- `y: 42.1` (화면 상단 경계 근처)
- 이상값 직후 정상 좌표로 급격히 복귀

### 3. ⏱️ **데이터 수집 시간 차이**
- **가까운 거리**: 50개 수집에 오랜 시간 소요
- **먼 거리**: 50개 수집이 빠르게 완료
- **원인**: 검출 실패로 인한 데이터 수집 지연

### 4. 🔄 **검출 불안정성**
**가까운 거리에서 발생하는 패턴**:
```
정상 검출 → 검출 실패 → 이상값 → 검출 복구 → 급격한 점프
314.5 → (실패) → 293.3 → 333.0 (39.7픽셀 점프)
```

## 💡 **결론 및 원인 규명**

### 🎯 **버벅거림의 진짜 원인**
1. **MediaPipe 검출 한계**: 가까운 거리에서 손이 화면을 넘어가거나 너무 클 때 검출 실패
2. **검출 실패 처리 부재**: 실패 시 이상한 좌표값 반환 또는 이전 좌표 유지 안됨
3. **급격한 좌표 복구**: 검출 복구 시 이전 위치와 큰 차이로 인한 점프 현상

### 🔧 **해결 방향**
- ❌ 모델 추론 성능 최적화 (이미 충분함)
- ❌ 스무딩 파라미터 조정 (근본 해결 안됨)
- ✅ **검출 실패 시 좌표 보간 로직 추가**
- ✅ **이상값 필터링 및 검증 로직 구현**

### 📈 **기대 효과**
검출 실패 처리 로직 추가 시 가까운 거리에서도 먼 거리만큼 안정적인 랜드마크 표시 가능