# 성능 측정 테스트 가이드

## 📊 측정 방법

앱을 실행하고 촬영을 시작한 후, 콘솔에서 다음과 같은 로그를 확인하세요:

```
🔥 성능 측정 (최근 30프레임): 평균 처리시간=XXXms, FPS=XXX
```

## 🧪 테스트 단계

### 1. BASELINE (최적화 전)

현재 설정:

- ✅ ResolutionPreset.medium
- ✅ 모든 YUV plane 사용
- ✅ GPU 가속 비활성화

**측정 결과**
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.7ms, FPS=30.6
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=36.4ms, FPS=27.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.2ms, FPS=32.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=29.0ms, FPS=34.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=28.7ms, FPS=34.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=29.5ms, FPS=33.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=27.9ms, FPS=35.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=33.1ms, FPS=30.2
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=30.8ms, FPS=32.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=24.5ms, FPS=40.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.6ms, FPS=30.7
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=26.3ms, FPS=38.0
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=33.4ms, FPS=29.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=34.6ms, FPS=28.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.7ms, FPS=31.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.5ms, FPS=31.7
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=23.6ms, FPS=42.4

### 2. 카메라 해상도 최적화

```dart
ResolutionPreset.medium → ResolutionPreset.low
```

**측정 결과**:
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=23.0ms, FPS=43.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=29.8ms, FPS=33.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=30.1ms, FPS=33.3
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=30.1ms, FPS=33.2
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=25.4ms, FPS=39.3
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.6ms, FPS=31.7
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.4ms, FPS=31.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.7ms, FPS=31.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.1ms, FPS=32.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=26.9ms, FPS=37.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.3ms, FPS=31.0
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.2ms, FPS=31.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.8ms, FPS=31.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=30.5ms, FPS=32.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=24.8ms, FPS=40.3
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=28.0ms, FPS=35.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=26.5ms, FPS=37.7

### 3. YUV 최적화 추가

```dart
// 첫 번째 plane만 사용
return image.planes[0].bytes;
```

**측정 결과**:
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=24.1ms, FPS=41.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=27.9ms, FPS=35.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=30.0ms, FPS=33.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=24.9ms, FPS=40.2
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=24.3ms, FPS=41.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.4ms, FPS=31.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=35.0ms, FPS=28.6
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=35.1ms, FPS=28.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=34.0ms, FPS=29.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=33.9ms, FPS=29.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=34.7ms, FPS=28.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=33.6ms, FPS=29.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=34.8ms, FPS=28.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=34.0ms, FPS=29.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.5ms, FPS=30.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=31.5ms, FPS=31.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=32.4ms, FPS=30.9

### 4. GPU 가속 추가

```swift
options.baseOptions.delegate = .GPU
```

**측정 결과**:
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.1ms, FPS=62.2
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.2ms, FPS=58.0
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.0ms, FPS=62.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=15.0ms, FPS=66.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.8ms, FPS=56.2
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.4ms, FPS=57.6
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.1ms, FPS=58.5
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=18.6ms, FPS=53.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.8ms, FPS=56.3
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=17.5ms, FPS=57.3
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.4ms, FPS=60.9
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.6ms, FPS=60.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.1ms, FPS=62.1
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.8ms, FPS=59.4
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=18.3ms, FPS=54.6
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=16.7ms, FPS=59.8
flutter: 🔥 성능 측정 (최근 30프레임): 평균 처리시간=12.9ms, FPS=77.3

## 🎯 목표 성능

- **처리 시간**: 50ms 이하
- **FPS**: 20fps 이상
- **딜레이**: 실시간에 가까운 반응성

## 📝 측정 가이드

1. 각 단계마다 앱을 재시작하세요
2. 30초 이상 촬영하여 안정된 수치를 확인하세요
3. 손을 자연스럽게 움직이며 테스트하세요
4. 콘솔 로그의 평균값을 기록하세요
